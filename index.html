<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù‚ÛŒÙ…Øª Ø±ÙˆØ² Ø®ÙˆØ¯Ø±Ùˆ</title>
    <style>
        body { font-family: 'Tahoma', sans-serif; background-color: #f0f2f5; padding: 20px; text-align: center; }
        .card { background: white; max-width: 400px; margin: 0 auto; padding: 25px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        h2 { color: #2c3e50; margin-bottom: 20px; }
        select { width: 100%; padding: 12px; margin: 10px 0; border: 2px solid #e0e0e0; border-radius: 8px; font-family: 'Tahoma'; font-size: 16px; outline: none; }
        select:focus { border-color: #3498db; }
        .price-box { margin-top: 20px; padding: 15px; background: #e8f6f3; border-radius: 10px; color: #16a085; font-size: 20px; font-weight: bold; display: none; border: 1px solid #a3e4d7; }
        .footer { margin-top: 20px; font-size: 12px; color: #888; }
    </style>
</head>
<body>

<div class="card">
    <h2>ğŸš— Ø§Ø³ØªØ¹Ù„Ø§Ù… Ù‚ÛŒÙ…Øª Ø®ÙˆØ¯Ø±Ùˆ</h2>
    <p>Ø¨Ø±Ù†Ø¯ Ùˆ Ù…Ø¯Ù„ Ø®ÙˆØ¯Ø±Ùˆ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:</p>
    
    <select id="brandSelect" onchange="loadModels()">
        <option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø±Ù†Ø¯...</option>
    </select>
    
    <select id="modelSelect" onchange="showPrice()" disabled>
        <option value="">Ø§Ø¨ØªØ¯Ø§ Ø¨Ø±Ù†Ø¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</option>
    </select>
    
    <div id="priceResult" class="price-box"></div>
    
    <div class="footer">Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø´Ø¯Ù‡ ØªÙˆØ³Ø· Ø±Ø¨Ø§Øª Ú©Ø§Ù†Ø§Ù„</div>
</div>

<script>
    let allCars = [];

    // Ø®ÙˆØ§Ù†Ø¯Ù† ÙØ§ÛŒÙ„ json Ú©Ù‡ Ù¾Ø§ÛŒØªÙˆÙ† Ø³Ø§Ø®ØªÙ‡ Ø§Ø³Øª
    fetch('cars.json')
        .then(response => {
            if (!response.ok) { throw new Error("ÙØ§ÛŒÙ„ Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯"); }
            return response.json();
        })
        .then(data => {
            allCars = data;
            loadBrands();
        })
        .catch(error => {
            document.getElementById("priceResult").style.display = "block";
            document.getElementById("priceResult").style.color = "red";
            document.getElementById("priceResult").innerHTML = "âš ï¸ ÙØ§ÛŒÙ„ Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ (cars.json) Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯!<br>Ø§Ø¨ØªØ¯Ø§ Ø±Ø¨Ø§Øª Ù¾Ø§ÛŒØªÙˆÙ† Ø±Ø§ Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒØ¯.";
        });

    function loadBrands() {
        const brands = [...new Set(allCars.map(car => car.name))];
        const select = document.getElementById("brandSelect");
        brands.forEach(brand => {
            let option = document.createElement("option");
            option.value = brand;
            option.text = brand;
            select.add(option);
        });
    }

    function loadModels() {
        const selectedBrand = document.getElementById("brandSelect").value;
        const modelSelect = document.getElementById("modelSelect");
        modelSelect.innerHTML = '<option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø¯Ù„...</option>';
        
        if (selectedBrand) {
            modelSelect.disabled = false;
            const models = allCars.filter(car => car.name === selectedBrand);
            models.forEach(car => {
                let option = document.createElement("option");
                option.value = car.price;
                option.text = car.model;
                modelSelect.add(option);
            });
        } else {
            modelSelect.disabled = true;
            document.getElementById("priceResult").style.display = "none";
        }
    }

    function showPrice() {
        const price = document.getElementById("modelSelect").value;
        const resultDiv = document.getElementById("priceResult");
        if (price) {
            resultDiv.style.display = "block";
            resultDiv.innerHTML = `ğŸ’° Ù‚ÛŒÙ…Øª: ${price} ØªÙˆÙ…Ø§Ù†`;
        } else {
            resultDiv.style.display = "none";
        }
    }
</script>

</body>
</html>